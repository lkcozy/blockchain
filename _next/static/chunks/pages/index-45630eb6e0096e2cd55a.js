(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9577:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return A}});var t=r(18),o=r(5893),i=r(7294),u=r(8949);if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!u.rC)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=r(3935);function c(n){n()}var s=function(n,e){var r="function"===typeof Symbol&&n[Symbol.iterator];if(!r)return n;var t,o,i=r.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(t=i.next()).done;)u.push(t.value)}catch(a){o={error:a}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},l=[];function f(n){return(0,u.Gf)(n)}var d="undefined"===typeof FinalizationRegistry?void 0:FinalizationRegistry;function h(n){return{reaction:n,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+v}}var v=1e4;var p=function(n){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&n[e],t=0;if(r)return r.call(n);if(n&&"number"===typeof n.length)return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var y=d?function(n){var e=new Map,r=1,t=new n((function(n){var r=e.get(n);r&&(r.reaction.dispose(),e.delete(n))}));return{addReactionToTrack:function(n,o,i){var u=r++;return t.register(i,u,n),n.current=h(o),n.current.finalizationRegistryCleanupToken=u,e.set(u,n.current),n.current},recordReactionAsCommitted:function(n){t.unregister(n),n.current&&n.current.finalizationRegistryCleanupToken&&e.delete(n.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(d):function(){var n,e=new Set;function r(){void 0===n&&(n=setTimeout(t,1e4))}function t(){n=void 0;var t=Date.now();e.forEach((function(n){var r=n.current;r&&t>=r.cleanAt&&(r.reaction.dispose(),n.current=null,e.delete(n))})),e.size>0&&r()}return{addReactionToTrack:function(n,t,o){var i;return n.current=h(t),i=n,e.add(i),r(),n.current},recordReactionAsCommitted:function(n){e.delete(n)},forceCleanupTimerToRunNowForTests:function(){n&&(clearTimeout(n),t())},resetCleanupScheduleForTests:function(){var r,t;if(e.size>0){try{for(var o=p(e),i=o.next();!i.done;i=o.next()){var u=i.value,a=u.current;a&&(a.reaction.dispose(),u.current=null)}}catch(c){r={error:c}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}e.clear()}n&&(clearTimeout(n),n=void 0)}}}(),m=y.addReactionToTrack,b=y.recordReactionAsCommitted,g=(y.resetCleanupScheduleForTests,y.forceCleanupTimerToRunNowForTests,!1);function w(){return g}var k=function(n,e){var r="function"===typeof Symbol&&n[Symbol.iterator];if(!r)return n;var t,o,i=r.call(n),u=[];try{for(;(void 0===e||e-- >0)&&!(t=i.next()).done;)u.push(t.value)}catch(a){o={error:a}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u};function x(n){return"observer"+n}var T=function(){};function j(n,e){if(void 0===e&&(e="observed"),w())return n();var r=k(i.useState(new T),1)[0],t=function(){var n=s((0,i.useState)(0),2)[1];return(0,i.useCallback)((function(){n((function(n){return n+1}))}),l)}(),o=i.useRef(null);if(!o.current)var a=new u.le(x(e),(function(){c.mounted?t():c.changedBeforeMount=!0})),c=m(o,a,r);var d,h,v=o.current.reaction;if(i.useDebugValue(v,f),i.useEffect((function(){return b(o),o.current?(o.current.mounted=!0,o.current.changedBeforeMount&&(o.current.changedBeforeMount=!1,t())):(o.current={reaction:new u.le(x(e),(function(){t()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},t()),function(){o.current.reaction.dispose(),o.current=null}}),[]),v.track((function(){try{d=n()}catch(e){h=e}})),h)throw h;return d}var R=function(){return(R=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};function S(n,e){if(w())return n;var r,t,o,u=R({forwardRef:!1},e),a=n.displayName||n.name,c=function(e,r){return j((function(){return n(e,r)}),a)};return c.displayName=a,r=u.forwardRef?(0,i.memo)((0,i.forwardRef)(c)):(0,i.memo)(c),t=n,o=r,Object.keys(t).forEach((function(n){C[n]||Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})),r.displayName=a,r}var C={$$typeof:!0,render:!0,compare:!0,type:!0};var N;(N=a.unstable_batchedUpdates)||(N=c),(0,u.jQ)({reactionScheduler:N});var _=r(4568),E=r(2153),O=r.n(E),B=S((function(){var n=(0,_.oR)(),e=n.numberBlocks,r=n.valid;return(0,o.jsxs)("h1",{children:[e," Blocks (",r?"Valid":"Invalid",")"]})})),F=function(){var n=(0,i.useState)(""),e=n[0],r=n[1],t=(0,_.oR)();return(0,o.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t.addTransaction(e),r("")},children:[(0,o.jsx)("input",{type:"text",value:e,onChange:function(n){return r(n.target.value)},placeholder:"message",required:!0}),(0,o.jsx)("button",{type:"submit",children:"Add"})]})},P=S((function(){var n=(0,_.oR)();return n.transactions.length>0?(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"Pending Transactions"}),(0,o.jsx)("ul",{className:"pending",children:n.transactions.map((function(n){return(0,o.jsx)("li",{children:n},O()(n).toString())}))})]}):null})),z=S((function(){var n=(0,_.oR)().blocks;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"Blocks"}),(0,o.jsx)("ul",{className:"blocks",children:(0,t.Z)(n).reverse().map((function(n){return(0,o.jsxs)("li",{children:[(0,o.jsx)("h3",{children:n.hash}),(0,o.jsx)("pre",{children:JSON.stringify(n.transactions,null,2)})]},n.hash)}))})]})})),A=function(){return(0,o.jsxs)("main",{children:[(0,o.jsx)(B,{}),(0,o.jsx)(F,{}),(0,o.jsx)(P,{}),(0,o.jsx)(z,{})]})}},4568:function(n,e,r){"use strict";r.d(e,{_c:function(){return h},g3:function(){return p},oR:function(){return y}});var t=r(5893),o=r(18),i=r(6610),u=r(5991),a=r(6156),c=r(8949),s=r(2153),l=r.n(s),f=r(7294),d=function(n,e){return l()("".concat(n.hash).concat(JSON.stringify(e.transactions))).toString()},h=function(){function n(){(0,i.Z)(this,n),(0,a.Z)(this,"blocks",[]),(0,a.Z)(this,"transactions",[]),(0,c.ky)(this)}return(0,u.Z)(n,[{key:"addTransaction",value:function(n){this.transactions.push(n)}},{key:"writeBlock",value:function(){var n;if(0!==this.transactions.length){var e=(0,o.Z)(this.transactions);this.transactions=[];var r=null!==(n=this.blocks[this.blocks.length-1])&&void 0!==n?n:{hash:""},t=d(r,{hash:"",transactions:e});this.blocks.push({hash:t,transactions:e})}}},{key:"numberBlocks",get:function(){return this.blocks.length}},{key:"valid",get:function(){var n=this;return this.blocks.every((function(e,r){var t,o=null!==(t=n.blocks[r-1])&&void 0!==t?t:{hash:""};return d(o,e)===e.hash}))}}]),n}(),v=(0,f.createContext)(new h),p=function(n){var e=n.store,r=n.children,o=n.transactionsPendingInterval,i=void 0===o?5e3:o;return(0,f.useEffect)((function(){var n=setInterval((function(){e.writeBlock()}),i);return function(){return clearInterval(n)}}),[e]),(0,t.jsx)(v.Provider,{value:e,children:r})},y=function(){return(0,f.useContext)(v)}},5301:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9577)}])},6601:function(){},9214:function(){},1922:function(){},2363:function(){},2361:function(){},4616:function(){}},function(n){n.O(0,[774,461,753],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);